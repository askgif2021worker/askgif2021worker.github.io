{"id":424,"title":"Implement Chatting Using Jquery and Ajax.","imageUrl":"bf431515-9c64-4bdf-803a-5620d3f280d9_jQuery-Chat-Plugins.jpg","dateCreated":"2019-08-16T10:17:23.391Z","dateModified":"2019-08-16T10:17:36.605Z","contributedBy":"AskGif","content":"<p>I received a lot of email requests from my reader that asked to me how to develop a facebook lite chat application. In this post I'm just giving an idea about chat application with simple javascript.</p>\r\n<p>Database</p>\r\n<pre class=\"language-javascript\"><code>CREATE TABLE chat\r\n(\r\nid INT PRIMARY KEY AUTO_INCREMENT,\r\nuser VARCHAR(50) UNIQUE,\r\nmsg VARCHAR(200),\r\n);</code></pre>\r\n<p>&nbsp;</p>\r\n<p>chat.php</p>\r\n<p>Contains PHP, Javascript and HTML code. Run this file with chat.php?user=yourname</p>\r\n<pre class=\"language-php\"><code>&lt;?php\r\ninclude('db.php');\r\nif($_GET['user'])\r\n{\r\n$user=$_GET['user'];\r\n?&gt;\r\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/\r\najax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\nvar user='&lt;?php echo $user;?&gt;';\r\n// Requesting to Database every 2 seconds\r\nvar auto_refresh = setInterval(function ()\r\n{\r\nvar last_id=$(\"ol#update li:last\").attr(\"id\");\r\n$.getJSON(\"chat_json.php?q=\"+user,function(data)\r\n{\r\n$.each(data.posts, function(i,data)\r\n{\r\nif(last_id != data.id)\r\n{ \r\nvar div_data=\"&lt;li id='\"+data.id+\"'&gt;&lt;b&gt;\"+data.user+\"&lt;/b&gt;: \"+data.msg+\"&lt;/li&gt;\";\r\n$(div_data).appendTo(\"ol#update\");\r\n}\r\n});\r\n});\r\n}, 2000); \r\n\r\n// Inserting records into chat table\r\n$(document).ready(function()\r\n{\r\n$('.post').click(function()\r\n{\r\nvar boxval = $(\"#content\").val();\r\nvar user = '&lt;?php echo $user;?&gt;';\r\nvar dataString = 'user='+ user + '&amp;msg=' + boxval;\r\nif(boxval.length &gt; 0)\r\n{\r\n$.ajax({\r\ntype: \"POST\",\r\nurl: \"chatajax.php\",\r\ndata: dataString,\r\ncache: false,\r\nsuccess: function(html)\r\n{\r\n$(\"ol#update\").append(html);\r\n$('#content').val('');\r\n$('#content').focus();\r\n}\r\n});\r\n}\r\nreturn false;\r\n});\r\n});\r\n&lt;/script&gt;\r\n// HTML code\r\n&lt;div&gt;\r\n&lt;form method=\"post\" name=\"form\" action=\"\"&gt;\r\n&lt;input type='text' name=\"content\" id=\"content\" /&gt;\r\n&lt;input type=\"submit\" value=\"Post\" id=\"post\" class=\"post\"/&gt;\r\n&lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;?php } ?&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>chatajax.php</p>\r\n<p>Contains PHP code. Inserting records into chat table.</p>\r\n<pre class=\"language-php\"><code>&lt;?php\r\ninclude('db.php');\r\nif($_POST)\r\n{\r\n$user=htmlentities($_POST['user']);\r\n$msg=htmlentities($_POST['msg']);\r\n$user=mysql_escape_String($user);\r\n$msg=mysql_escape_String($msg);\r\nmysql_query(\"insert into chat(user,msg)values('$user','$msg')\");\r\n$sql=mysql_query(\"select id from chat where user='$user' order by id desc limit 1\");\r\n$row=mysql_fetch_array($sql);\r\n$id=$row['id'];\r\n?&gt;\r\n&lt;li id=\"&lt;?php echo $id; ?&amp;gt;\"&gt;\r\n&lt;b&gt;&lt;?php echo $user; ?&gt;:&lt;/b&gt;&lt;?php echo $msg;?&gt;\r\n&lt;/li&gt;\r\n&lt;?php\r\n}\r\n?&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>chat_json.php</p>\r\n<p>Contains PHP code getting latest record from the chat table and output result in JSON format.</p>\r\n<pre class=\"language-php\"><code>&lt;?php\r\ninclude('db.php');\r\nif($_GET['q'])\r\n{\r\n$user=$_GET['q'];\r\n$sql = mysql_query(\"select * from chat order by id desc limit 1\");\r\n$row=mysql_fetch_array($sql);\r\n$userx=$row['user'];\r\n$id=$row['id'];\r\n$msg=$row['msg'];\r\nif($userx!=$user)\r\n{\r\necho '{\"posts\": [';\r\necho '\r\n{\r\n\"id\":\"'.$id.'\",\r\n\"user\":\"'.$userx.'\",\r\n\"msg\":\"'.$msg.'\"\r\n},'; \r\necho ']}';\r\n} } \r\n?&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>db.php</p>\r\n<p>PHP database configuration file</p>\r\n<pre class=\"language-php\"><code>&lt;?php\r\n\r\n$mysql_hostname = \"Host name\";\r\n$mysql_user = \"UserName\";\r\n$mysql_password = \"Password\";\r\n$mysql_database = \"Database Name\";\r\n$bd = mysql_connect($mysql_hostname, $mysql_user, $mysql_password) or die(\"Could not connect database\");\r\nmysql_select_db($mysql_database, $bd) or die(\"Could not select database\");\r\n?&gt;</code></pre>","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/bf431515-9c64-4bdf-803a-5620d3f280d9_jQuery-Chat-Plugins.jpg","subContents":[],"category":{"name":"coding","slug":"coding"},"slug":"implement-chatting-using-jquery-and-ajax","tags":[{"name":"jquery","slug":"jquery"},{"name":"php","slug":"php"}],"recommendations":[{"id":582,"title":"Implementing Twitter Style Load More Results using jQuery and Ajax.","imageUrl":"613fae1a-b76a-4c7f-b0fc-e092dbd7b38a_twitter-load-more.jpg","dateCreated":"2019-09-04T08:56:33.082Z","dateModified":"2019-09-04T08:57:32.307Z","contributedBy":"AskGif","content":"Twitter and Facebook using a very nice technique for loading more tweets and updates, when you click the more button old tweets display on the screen. Long days back I had posted an article same like this but I did some mistakes. So in this tutorial, I had coded a very simple and understanding wa","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/613fae1a-b76a-4c7f-b0fc-e092dbd7b38a_twitter-load-more.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"php","slug":"php"},{"name":"jquery","slug":"jquery"}],"slug":"implementing-twitter-style-load-more-results-using-jquery-and-ajax","total":0},{"id":507,"title":"Implementing Oauth Login for Linkedin, Facebook, Google and Microsoft","imageUrl":"3777aeef-ad18-459b-8370-2306287f22e6_OauthBanner.jpg","dateCreated":"2019-08-29T11:58:16.72Z","dateModified":"2019-08-29T11:58:30.055Z","contributedBy":"AskGif","content":"Introducing the new lightweight OAuth Login commercial edition, an OAuth login system for your website with Facebook, Google, Microsoft and Linkedin. OAuth Login is very quick and powerful, sure this helps you to increase your web project registrations. It's definitely a must-have login system fo","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/3777aeef-ad18-459b-8370-2306287f22e6_OauthBanner.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"microsoft","slug":"microsoft"},{"name":"facebook","slug":"facebook"},{"name":"google-plus","slug":"google-plus"},{"name":"linkedin","slug":"linkedin"},{"name":"php","slug":"php"}],"slug":"implementing-oauth-login-for-linkedin-facebook-google-and-microsoft","total":0},{"id":439,"title":"Implementing User Signup using Facebook Data.","imageUrl":"9546540c-ed20-4ebe-8e98-38a73bb67167_fb-login.jpg","dateCreated":"2019-08-21T09:38:11.416Z","dateModified":"2019-08-21T09:38:26.767Z","contributedBy":"AskGif","content":"Using Facebook registration plug-in users can easily sign up on your website using Facebook data. With one simple Facebook login, the form will be filled with user appropriate data. This plug-in is a simple iframe you can place it anywhere on your webpage. You can also add a custom field if Faceb","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/9546540c-ed20-4ebe-8e98-38a73bb67167_fb-login.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"php","slug":"php"}],"slug":"implementing-user-signup-using-facebook-data","total":0},{"id":142,"title":"How to get WYSIHTML5 textarea content cleared?","imageUrl":"1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","dateCreated":"2018-10-18T05:08:41.249Z","dateModified":"2018-10-18T05:08:49.621Z","contributedBy":"AskGif","content":"I have got a text area having id =\"myTextArea\", I'm able to fetch the content of text area but I'm not able to clear the content once the user successfully submits the data. I'm using a wysihtml5 plugin as my text editor. my code is as follows.\r\n<pre class=\"language-markup\"><code>&lt;textarea","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"questions","slug":"questions"},{"name":"wysihtml5","slug":"wysihtml5"},{"name":"jquery","slug":"jquery"}],"slug":"how-to-get-wysihtml5-textarea-content-cleared","total":0}]}