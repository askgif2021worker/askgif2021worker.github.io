{"id":432,"title":"Implementing New Twitter Like Design of Expanding URLs Using Jquery, Ajax, and PHP.","imageUrl":"abd82da5-ffcf-4512-9b05-3171e0a8f1ad_expand.jpg","dateCreated":"2019-08-20T11:44:41.47Z","dateModified":"2019-08-20T11:44:55.051Z","contributedBy":"AskGif","content":"<p>My last post explained about New Twitter design basic layout with CSS and Jquery. In this post I want to explain how to expand URLs like new Twitter user interface using jquery, ajax and PHP. It is very easy just implementing with embed jquery media plugin.</p>\r\n<p>&nbsp;</p>\r\n<p>Database</p>\r\n<p>MySQL messages table contains two columns msg_id and message.</p>\r\n<pre class=\"language-javascript\"><code>CREATE TABLE messages\r\n(\r\nmsg_id INT PRIMARY KEY AUTO_INCREMENT,\r\nmessage VARCHAR(150)\r\n);</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Index.php</p>\r\n<p>Contains simple HTML and PHP code. In left class contains messages table records.</p>\r\n<pre class=\"language-markup\"><code>&lt;div id='container'&gt; \r\n// Right part\r\n&lt;div class='right'&gt; \r\n&lt;/div&gt; \r\n\r\n&lt;div id=\"panel-frame\"&gt; \r\n&lt;div class=\"panel\"&gt; \r\n&lt;div class=\"head\"&gt; &lt;a href=\"#\" class=\"close\"&gt;Close&lt;/a&gt;&lt;/div&gt; \r\n&lt;div class=\"data\"&gt;// Message id&lt;/div&gt;\r\n&lt;div class=\"final\"&gt;// Message &lt;/div&gt;\r\n&lt;div class=\"expand_box\"&gt;// Expanding URL area&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt; \r\n\r\n//Left Part\r\n&lt;div class=\"left\"&gt; \r\n// Message display here\r\n&lt;?php\r\ninclude('db.php');\r\ninclude('tolink.php');\r\n$sql=mysql_query(\"select msg_id,message from messages order by msg_id desc\");\r\nwhile($row=mysql_fetch_array($sql))\r\n{\r\n$id=$row['msg_id'];\r\n$message=$row['message'];\r\n$message=tolink($message); // tutorial link click here\r\n?&gt;\r\n&lt;div class=\"block\" id=\"&lt;?php echo $id;?&gt;\"&gt;\r\n&lt;?php echo $message;?&amp;gt;\r\n&lt;/div&gt;\r\n&lt;?php \r\n}\r\n?&gt;\r\n&lt;/div&gt;</code></pre>\r\n<p>Javascript</p>\r\n<p>$(\".block\").click(function(){})- block is the class name of DIV tag. Using $(this).attr('id') - calling DIV tag ID value and $(this).html() - calling DIV tag data. Here you have to include jquery.oembed.js plugin</p>\r\n<pre class=\"language-javascript\"><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/\r\najax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"jquery.oembed.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\n$(document).ready(function() \r\n{\r\n\r\n$('.block').click(function()\r\n{\r\nvar id= $(this).attr('id'); // .block ID\r\nvar msg= $(this).html(); // .block DIV data\r\nvar data_id= $(\".data\").html(); // .data DIV value\r\nvar panel= $('.panel');\r\nvar panel_width=$('.panel').css('left'); // rolling panel width\r\n//-Expanding URLs--------------------------------\r\n$('.data').html(id);\r\n$('.final').html(msg);\r\n\r\nfunction expanding_url() \r\n{\r\nvar dataString = 'id='+ id;\r\n$.ajax({\r\ntype: \"POST\",\r\nurl: \"newtwitterajax.php\", // Expanding URL \r\ndata: dataString,\r\ncache: false,\r\nsuccess: function(data)\r\n{\r\n$('#expand_box').show();\r\n$('#expand_box').html(data);\r\n}\r\n});\r\n}\r\n\r\n//---------------------------------\r\n\r\nif(data_id==id)\r\n{\r\n// Rolling Animation\r\npanel.animate({left: parseInt(panel.css('left'),0) == 0 ? +panel.outerWidth() : 0});\r\n//--------------------------------\r\nif(panel_width=='341px')\r\n{\r\n$('#expand_box').hide();\r\n}\r\nelse\r\n{\r\nexpanding_url();\r\n}\r\n//--------------------------------\r\n}\r\nelse\r\n{\r\nexpanding_url();\r\n// panel width CSS width:340px + border:1px = 341px\r\nif(panel_width=='341px')\r\n{\r\n// No rolling animation\r\n}\r\nelse\r\n{\r\n// Rolling Animation\r\npanel.animate({left: parseInt(panel.css('left'),0) == 0 ? +panel.outerWidth() : 0});\r\n}\r\n}\r\n// passing id value to &lt;div class='data'$gt; &lt;/div&gt;\r\n$('.data').html(id);\r\nreturn false;\r\n});\r\n\r\n// panel close link\r\n$('.close').click(function() \r\n{\r\nvar panel= $('.panel');\r\npanel.animate({left: parseInt(panel.css('left'),0) == 0 ? +panel.outerWidth() : 0});\r\n$('#expand_box').hide();\r\nreturn false;\r\n});\r\n\r\n});\r\n&lt;/script&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>newtwitterajax.php</p>\r\n<p>Contains PHP and javascript code. Here calling message record from messages table where msg_id = .block id and calling oembed JavaScript function. If you want to display more details about message(Retweet information) write your code.</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php\r\ninclude('db.php');\r\nif($_POST)\r\n{\r\n$id=$_POST['id'];\r\n$sql=mysql_query(\"select message from messages where msg_id='$id'\");\r\n$row=mysql_fetch_array($sql);\r\n$message=$row['message'];\r\n?&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\n$(document).ready(function()\r\n{\r\n$(\"#expand_url&lt;?PHP echo $id; ?&gt;\").oembed(\"&lt;?php echo $message; ?&gt;\", {maxWidth: 300, maxHeight: 200});\r\n});\r\n&lt;/script&gt;\r\n&lt;div id='expand_url&lt;?php echo $id; ?&gt;' &gt;&lt;/div&gt;\r\n&lt;?php\r\n}\r\n?&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>CSS</p>\r\n<pre class=\"language-css\"><code>.data\r\n{\r\nfont-size:16px;\r\ndisplay:none;\r\n}\r\n.final\r\n{\r\noverflow:hidden;\r\npadding:20px;\r\nfont-size:24px;\r\n}\r\n#expand_box\r\n{\r\nposition:relative;\r\nposition:absolute;\r\npadding-left:30px;\r\n}\r\n#expand_box img { width:250px; }</code></pre>\r\n<p>&nbsp;</p>\r\n<p>db.php</p>\r\n<p>PHP database configuration file</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php\r\n\r\n$mysql_hostname = \"Host name\";\r\n$mysql_user = \"UserName\";\r\n$mysql_password = \"Password\";\r\n$mysql_database = \"Database Name\";\r\n$bd = mysql_connect($mysql_hostname, $mysql_user, $mysql_password) or die(\"Could not connect database\");\r\nmysql_select_db($mysql_database, $bd) or die(\"Could not select database\");\r\n?&gt;</code></pre>","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/abd82da5-ffcf-4512-9b05-3171e0a8f1ad_expand.jpg","subContents":[],"category":{"name":"coding","slug":"coding"},"slug":"implementing-new-twitter-like-design-of-expanding-urls-using-jquery-ajax-and-php","tags":[{"name":"ajax","slug":"ajax"},{"name":"jquery","slug":"jquery"},{"name":"php","slug":"php"}],"recommendations":[{"id":487,"title":"Implementing Simple Drop Down Menu Using Jquery and CSS","imageUrl":"5513261b-7a63-4914-8a75-031bdcbb2af4_dropdown.jpg","dateCreated":"2019-08-26T10:40:21.162Z","dateModified":"2019-08-26T10:40:52.269Z","contributedBy":"AskGif","content":"This post is very basic level Jquery and CSS implementation. I want to explain how to design a simple drop-down menu with CSS, HTML, and Jquery. This system helps you to minimize the menus list. Just take a quick look at this post very few lines of code, use it and enrich your web projects.&nbsp;","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/5513261b-7a63-4914-8a75-031bdcbb2af4_dropdown.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"drop-down-menu","slug":"drop-down-menu"},{"name":"php","slug":"php"},{"name":"jquery","slug":"jquery"}],"slug":"implementing-simple-drop-down-menu-using-jquery-and-css","total":0},{"id":426,"title":"Implementing Collapsed Image Using Jquery and CSS.","imageUrl":"a857df5a-ca21-4993-ad47-ba40aa47218f_imagecollaps.jpg","dateCreated":"2019-08-19T10:35:32.501Z","dateModified":"2019-08-19T10:35:49.414Z","contributedBy":"AskGif","content":"How to do a collapsed image with Jquery and CSS. Orkut.com implemented this concept while updating image scrap, the scrap shows image in collapsed style to reduce the webpage height. This is a very simple script using mouseover, mouseout and CSS Jquery functions.\r\n&nbsp;\r\nJavascript","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/a857df5a-ca21-4993-ad47-ba40aa47218f_imagecollaps.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"jquery","slug":"jquery"}],"slug":"implementing-collapsed-image-using-jquery-and-css","total":0},{"id":423,"title":"Adding Youtube like Rating Using Jquery and Ajax","imageUrl":"1f965a40-acec-4e77-9e7b-39ec93b2d933_Youtube_rating.jpg","dateCreated":"2019-08-16T09:56:32.108Z","dateModified":"2019-08-26T11:13:49.411Z","contributedBy":"AskGif","content":"I received an email request from my reader that asked to me how to implement Youtube like rating with Jquery. It is so nice with quick bar results So that I had designed a simple script with PHP, Jquery and Ajax. Sure you will like it.&nbsp;\r\n&nbsp;\r\nDatabase Design\r\nMessages","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/1f965a40-acec-4e77-9e7b-39ec93b2d933_Youtube_rating.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"php","slug":"php"},{"name":"jquery","slug":"jquery"}],"slug":"adding-youtube-like-rating-using-jquery-and-ajax","total":0},{"id":142,"title":"How to get WYSIHTML5 textarea content cleared?","imageUrl":"1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","dateCreated":"2018-10-18T05:08:41.249Z","dateModified":"2018-10-18T05:08:49.621Z","contributedBy":"AskGif","content":"I have got a text area having id =\"myTextArea\", I'm able to fetch the content of text area but I'm not able to clear the content once the user successfully submits the data. I'm using a wysihtml5 plugin as my text editor. my code is as follows.\r\n<pre class=\"language-markup\"><code>&lt;textarea","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"प्रशन","slug":"questions"},{"name":"wysihtml5","slug":"wysihtml5"},{"name":"jquery","slug":"jquery"}],"slug":"how-to-get-wysihtml5-textarea-content-cleared","total":0}]}