{"id":438,"title":"Implementing Facebook Graph API Connect Using PHP and Jquery","imageUrl":"9b091f18-fe00-48c8-84de-88ba4b2f9b2f_facebookapi.jpg","dateCreated":"2019-08-21T08:55:43.064Z","dateModified":"2019-08-21T08:55:58.708Z","contributedBy":"AskGif","content":"<p>This post I had presented in an easy way to connect and read the Facebook home timeline with PHP and Jquery. Explained how to store facebook token and user id hope you like it.</p>\r\n<p>&nbsp;</p>\r\n<p>Database</p>\r\n<p>Sample database table here storing facebook access token key and profile id. MySQL users table columns uid, uname, passcode, facebook_id and facebook_access_token</p>\r\n<pre class=\"language-javascript\"><code>CREATE TABLE users\r\n(\r\nuid INT PRIMARY KEY AUTO_INCREMENT,\r\nusername VARCHAR(50) UNIQUE,\r\npasscode VARCHAR(50),\r\nfacebook_id VARCHAR(100),\r\nfacebook_access_token TEXT\r\n);</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Connecting Facebook</p>\r\n<p>You have to create a facebook application. It will provide application_id and application_secret. While clicking Add Facebook anchor tag URL requesting Facebook Graph API with contains your web project redirection URL.</p>\r\n<pre class=\"language-markup\"><code>&lt;a href=\"https://graph.facebook.com/oauth/authorize?type=user_agent&amp;client_id=APP_ID\r\n&amp;redirect_uri=http://yourwebsite.com/fbaccess.php\r\n&amp;scope=user_photos,user_videos,email,user_birthday,\r\noffline_access,publish_stream,status_update\"&gt;\r\nAdd Facebook\r\n&lt;/a&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Fbaccess.php</p>\r\n<p>Redirecting file contains PHP code. Here you have to include facebook.php (Facebook library file) to getting the access token values. Updating users table where username=$user_session (login user).</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php\r\n# We require the library\r\nrequire(\"facebook.php\");\r\nrequire(\"db.php\");\r\n# Creating the facebook object\r\n$facebook = new Facebook(array(\r\n'appId' =&gt; 'APP_ID',\r\n'secret' =&gt; 'APP_SECRET_ID',\r\n'cookie' =&gt; true\r\n));\r\n# Let's see if we have an active session\r\n$session = $facebook-&gt;getSession();\r\nif(!empty($session))\r\n{\r\ntry\r\n{\r\n$facebook_id = $session['uid'];\r\n$facebook_access_token=$session['access_token'];\r\n// Updating Facebook values into Users table\r\nmysql_query(\"UPDATE users SET facebook_uid='$facebook_id', facebook_access_token='$facebook_access_token' WHERE username='$user_session'\");\r\nheader(\"Location: http://yourwebsite.com/home.php\");\r\n} \r\ncatch (Exception $e){}\r\n}\r\nelse\r\n{\r\nheader(\"Location: http://yourwebsite.com/home.php\");\r\n}</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Home.php</p>\r\n<p>Contains HTML, Javascript, and PHP code. Here using .getJSON to requesting Facebook Graph API home timeline with access_token and app_id.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php \r\ninclude('db.php');\r\n$sql=mysql_query(\"select facebook_id,facebook_access_token from users where username='$user_session'\");\r\n$row=mysql_fetch_array($sql);\r\n$facebook_id=$row['facebook_id'];\r\n$facebook_access_token=$row['facebook_access_token'];\r\n?&gt;\r\n// Javascript Code------------------------------------- \r\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/\r\najax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\n$(function() \r\n{\r\n$(\".facebook\").click(function()\r\n{\r\nvar URL = 'https://graph.facebook.com/&lt;?php echo $facebook_id; ?&gt;/home?access_token=&lt;?php echo $facebook_token; ?&gt;&amp;expires_in=0&amp;callback=?';\r\n$.getJSON(URL,function(data)\r\n{\r\n$.each(data.data, function(i,data)\r\n{\r\nvar picture = 'http://graph.facebook.com/'+data.from.id+'/picture';\r\n// If no message \r\nif(data.message)\r\n{\r\nvar msg=data.message;\r\n}\r\nelse\r\n{\r\nvar msg=data.name;\r\n} \r\nvar div_data =\"&lt;div class='fb_status'&gt;&lt;img src=\"+picture+\" class='fb_image'/&gt;&lt;a href='' &gt;&lt;b&gt;\"+data.from.name+\"&lt;/b&gt;&lt;/a&gt; \"+msg+\"&lt;/div&gt;\";\r\n$(div_data).appendTo(\"#facebookdata\");\r\n\r\n});\r\n});\r\n&lt;/script&gt;\r\n// HTML Code---------------------------------------------\r\n&lt;?php \r\nif($facebook_uid) \r\n{\r\n?&gt;\r\n&lt;a href=\"#\" class=\"facebook\" &gt;Connected&lt;/a&gt;\r\n&lt;?php \r\n} else { \r\n?&gt;\r\n&lt;a href=\"https://graph.facebook.com/oauth/authorize?type=user_agent&amp;client_id=APP_ID\r\n&amp;redirect_uri=http://yourwebsite.com/fbaccess.php\r\n&amp;scope=user_photos,user_videos,email,user_birthday,\r\noffline_access,publish_stream,status_update\"&gt;\r\nAdd Facebook\r\n&lt;/a&gt;\r\n&lt;?php \r\n} \r\n?&gt;\r\n&lt;div id='facebookdata'&gt;&lt;/div&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>CSS Code</p>\r\n<pre class=\"language-css\"><code>.fb_status\r\n{\r\nmin-height:60px;\r\npadding:6px;\r\nborder-bottom:solid 1px #DEDEDE\r\n}\r\n.fb_status a\r\n{\r\ncolor:#3cf;\r\ntext-decoration:none\r\n}\r\n.fb_status a:hover{\r\ncolor:#3cf;\r\ntext-decoration:underline\r\n}\r\n.fb_image{\r\nfloat:left;\r\nmargin-right:14px;\r\nwidth:50px;\r\nheight:50px;\r\npadding:3px;\r\n}</code></pre>\r\n<p>&nbsp;</p>\r\n<p>db.php</p>\r\n<p>PHP database configuration file</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php\r\n\r\n$mysql_hostname = \"Host name\";\r\n$mysql_user = \"UserName\";\r\n$mysql_password = \"Password\";\r\n$mysql_database = \"Database Name\";\r\n$bd = mysql_connect($mysql_hostname, $mysql_user, $mysql_password) or die(\"Could not connect database\");\r\nmysql_select_db($mysql_database, $bd) or die(\"Could not select database\");\r\n?&gt;</code></pre>","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/9b091f18-fe00-48c8-84de-88ba4b2f9b2f_facebookapi.jpg","subContents":[],"category":{"name":"coding","slug":"coding"},"slug":"implementing-facebook-graph-api-connect-using-php-and-jquery","tags":[{"name":"php","slug":"php"},{"name":"mysql","slug":"mysql"},{"name":"jquery","slug":"jquery"}],"recommendations":[{"id":1607,"title":"Employees Earning More Than Their Managers - Sql - Easy - LeetCode","imageUrl":"icon_0a6cfc7c-14b2-43e5-8538-b4498ef0b5c3.jpg","dateCreated":"2020-10-16T06:26:34.794Z","dateModified":"2020-10-16T06:26:46.282Z","contributedBy":"sumitc91","content":"The Employee table holds all employees including their managers. Every employee has an Id, and there is also a column for the manager Id.\n+----+-------+--------+-----------+<br />| Id | Name &nbsp;| Salary | ManagerId |<br />+----+-------+--------+-----------+<br />| 1 &nbsp;| Joe &nbsp; |","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/0a6cfc7c-14b2-43e5-8538-b4498ef0b5c3.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"algorithm","slug":"algorithm"},{"name":"डेटा-संरचना","slug":"data-structure"},{"name":"आसान","slug":"easy"},{"name":"leetcode","slug":"leetcode"},{"name":"mysql","slug":"mysql"},{"name":"sql","slug":"sql"}],"slug":"employees-earning-more-than-their-managers-sql-easy-leetcode","total":0},{"id":438,"title":"Implementing Facebook Graph API Connect Using PHP and Jquery","imageUrl":"9b091f18-fe00-48c8-84de-88ba4b2f9b2f_facebookapi.jpg","dateCreated":"2019-08-21T08:55:43.064Z","dateModified":"2019-08-21T08:55:58.708Z","contributedBy":"AskGif","content":"This post I had presented in an easy way to connect and read the Facebook home timeline with PHP and Jquery. Explained how to store facebook token and user id hope you like it.\r\n&nbsp;\r\nDatabase\r\nSample database table here storing facebook access token key and profile id. MyS","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/9b091f18-fe00-48c8-84de-88ba4b2f9b2f_facebookapi.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"php","slug":"php"},{"name":"mysql","slug":"mysql"},{"name":"jquery","slug":"jquery"}],"slug":"implementing-facebook-graph-api-connect-using-php-and-jquery","total":0},{"id":419,"title":"Efficient Loading of Banner Advertisements with Jquery","imageUrl":"786806dd-86d7-4ea8-b0ff-953717fbf94b_browserloading.jpg","dateCreated":"2019-08-14T10:01:13.815Z","dateModified":"2019-08-14T10:01:26.822Z","contributedBy":"AskGif","content":"Banner advertisements eating your web page loading time? Take a look at this post. how to display advertisiment blocks after loading the main content block with jquery. It is very simple ajax implementation with jquery. Use it increase your web project loading speed.\r\nContent block loading","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/786806dd-86d7-4ea8-b0ff-953717fbf94b_browserloading.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"php","slug":"php"},{"name":"jquery","slug":"jquery"}],"slug":"efficient-loading-of-banner-advertisements-with-jquery","total":0},{"id":142,"title":"How to get WYSIHTML5 textarea content cleared?","imageUrl":"1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","dateCreated":"2018-10-18T05:08:41.249Z","dateModified":"2018-10-18T05:08:49.621Z","contributedBy":"AskGif","content":"I have got a text area having id =\"myTextArea\", I'm able to fetch the content of text area but I'm not able to clear the content once the user successfully submits the data. I'm using a wysihtml5 plugin as my text editor. my code is as follows.\r\n<pre class=\"language-markup\"><code>&lt;textarea","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"प्रशन","slug":"questions"},{"name":"wysihtml5","slug":"wysihtml5"},{"name":"jquery","slug":"jquery"}],"slug":"how-to-get-wysihtml5-textarea-content-cleared","total":0}]}