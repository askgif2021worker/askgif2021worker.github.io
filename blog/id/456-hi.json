{"id":456,"title":"Implementing Google Plus Style Drag and Drop adding Friend in Groups","imageUrl":"8172f3cc-c5b4-4e45-943c-9d1fdf462873_Draganddrop.jpg","dateCreated":"2019-08-23T11:01:10.261Z","dateModified":"2019-08-23T11:01:25.693Z","contributedBy":"AskGif","content":"<p>Are you looking for Google plus style drag and drop adding friends in groups or circle. Google plus circle implementation so cool, the same way I have tried similar user groups adding an application with drag and drop effect using jquery and PHP.</p>\r\n<p>&nbsp;</p>\r\n<p>Sample database contains three tables and the relationship between Members and Groups.&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>Members</p>\r\n<p>The table contains members(users) data such as member_id, member_image and etc.</p>\r\n<pre class=\"language-javascript\"><code>CREATE TABLE IF NOT EXISTS `members` (\r\n`member_id` int(9) NOT NULL AUTO_INCREMENT,\r\n`member_name` varchar(220) NOT NULL,\r\n`member_image` text NOT NULL,\r\n`dated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\nPRIMARY KEY (`member_id`)\r\n); </code></pre>\r\n<p>&nbsp;</p>\r\n<p>Groups</p>\r\n<p>Contains groups information.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>CREATE TABLE IF NOT EXISTS `groups` (\r\n`group_id` int(9)  AUTO_INCREMENT,\r\n`group_name` varchar(220),\r\n`sort` int(9),\r\n`date` timestamp  DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\nPRIMARY KEY (`group_id`),\r\nKEY `sort` (`sort`)\r\n); </code></pre>\r\n<p>&nbsp;</p>\r\n<p>User_group</p>\r\n<p>Members and Groups table relationship table contains user_id(same as memeber_id), group_id, member_id() and sort(ordering)&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>CREATE TABLE IF NOT EXISTS `user_group` (\r\n`id` int(9) NOT NULL AUTO_INCREMENT,\r\n`user_id` int(9) NOT NULL,\r\n`group_id` int(9) NOT NULL,\r\n`member_id` int(9) NOT NULL,\r\n`sort` int(9) NOT NULL,\r\nPRIMARY KEY (`id`)\r\n);</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Javascript</p>\r\n<p>Here draggable applying for two classes .members and .group</p>\r\n<pre class=\"language-javascript\"><code>&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/jquery-ui.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"jquery.livequery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" &gt;\r\n$(function() \r\n{ \r\n// Initiate draggable for public and groups\r\nvar $gallery = $( \".members, .group\" );\r\n$( \"img\", $gallery ).live(\"mouseenter\", function()\r\n{\r\nvar $this = $(this);\r\nif(!$this.is(':data(draggable)')) \r\n{\r\n$this.draggable({\r\nhelper: \"clone\",\r\ncontainment: $( \"#demo-frame\" ).length ? \"#demo-frame\" : \"document\", \r\ncursor: \"move\"\r\n});\r\n}\r\n});\r\n// Initiate Droppable for groups\r\n// Adding members into groups\r\n// Removing members from groups\r\n// Shift members one group to another\r\n$(\".group\").livequery(function(){\r\nvar casePublic = false;\r\n$(this).droppable({\r\nactiveClass: \"ui-state-highlight\",\r\ndrop: function( event, ui ) {\r\nvar m_id = $(ui.draggable).attr('rel');\r\nif(!m_id)\r\n{\r\ncasePublic = true;\r\nvar m_id = $(ui.draggable).attr(\"id\");\r\nm_id = parseInt(m_id.substring(3));\r\n} \r\nvar g_id = $(this).attr('id');\r\ndropPublic(m_id, g_id, casePublic);\r\n$(\"#mem\"+m_id).hide();\r\n$( \"&lt;li&gt;&lt;/li&gt;\" ).html( ui.draggable ).appendTo( this );\r\n},\r\nout: function(event, ui) {\r\nvar m_id = $(ui.draggable).attr('rel');\r\nvar g_id = $(this).attr('id'); \r\n$(ui.draggable).hide(\"explode\", 1000);\r\nremoveMember(g_id,m_id);\r\n}\r\n});\r\n});\r\n// Add or shift members from groups\r\nfunction dropPublic(m_id, g_id,caseFrom)\r\n{\r\n$.ajax({\r\ntype:\"GET\",\r\nurl:\"groups.php?m_id=\"+m_id+\"&amp;g_id=\"+g_id,\r\ncache:false,\r\nsuccess:function(response){ \r\n$.get(\"groups.php?reload_groups\", function(data){ \r\n$(\"#groupsall\").html(data);\r\n$(\"#added\"+g_id).animate({\"opacity\" : \"10\" },10);\r\n$(\"#added\"+g_id).show();\r\n$(\"#added\"+g_id).animate({\"margin-top\": \"-50px\"}, 450);\r\n$(\"#added\"+g_id).animate({\"margin-top\": \"0px\",\"opacity\" : \"0\" }, 450);\r\n});\r\n}\r\n});\r\n}\r\n// Remove memebers from groups\r\n// It will restore into public groups or non grouped members\r\nfunction removeMember(g_id,m_id)\r\n{\r\n$.ajax({\r\ntype:\"GET\",\r\nurl:\"groups.php?do=drop&amp;mid=\"+m_id,\r\ncache:false,\r\nsuccess:function(response){\r\n$(\"#removed\"+g_id).animate({\"opacity\" : \"10\" },10);\r\n$(\"#removed\"+g_id).show();\r\n$(\"#removed\"+g_id).animate({\"margin-top\": \"-50px\"}, 450);\r\n$(\"#removed\"+g_id).animate({\"margin-top\": \"0px\",\"opacity\" : \"0\" }, 450);\r\n$.get(\"groups.php?reload\", function(data){ $(\"#public\").html(data); });\r\n}\r\n});\r\n} \r\n});\r\n&lt;/script&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>groups.php</p>\r\n<pre class=\"language-markup\"><code>&lt;?php\r\nrequire_once(\"multipleDiv.inc.php\");\r\n// Initiate Object\r\n$obj = new Multiplediv();\r\n// Add or Update Ajax Call\r\nif(isset($_GET['m_id']) and isset($_GET['g_id']))\r\n{\r\n$obj-&gt;addMembers((int)$_GET['m_id'], (int)$_GET['g_id']);\r\nexit;\r\n}\r\n// Remove Memebers from groups Ajax call\r\nif(isset($_GET['do']))\r\n{\r\n$obj-&gt;removeMember($_GET['mid']);\r\nexit;\r\n}\r\n// Reload groups each ajax call\r\nif(isset($_GET['reload'])){ echo $obj-&gt;getMembers_reload(); exit; }\r\nif(isset($_GET['reload_groups'])){ echo $obj-&gt;getmembergroups_reload(); exit; }\r\n// Initiate Groups and members \r\n$members = $obj-&gt;public_members();\r\n$groups = $obj-&gt;groups();\r\n?&gt;\r\nFriends\r\n&lt;div id=\"main_portion\"&gt;\r\n&lt;div id=\"public\"&gt;\r\n&lt;!-- Initiate members --&gt;\r\n&lt;?php\r\nif(!isset($members))\r\n$members = $obj-&gt;public_members();\r\nif($members)\r\n{\r\nforeach($members as $member)\r\n{\r\nextract($member);\r\necho \"&lt;div class='members' id='mem\".$member_id.\"'&gt;\\n\";\r\necho \"&lt;img src='images/\".$member_image.\"' rel='\".$member_id.\"'&gt;\\n\";\r\necho \"&lt;b&gt;\".ucwords($member_name).\"&lt;/b&gt;\\n\";\r\necho \"&lt;/div&gt;\"; \r\n}\r\n}\r\nelse\r\necho \"Members not available\";\r\n?&gt;\r\n&lt;/div&gt;\r\n&lt;div id=\"groupsall\"&gt;\r\nGroups\r\n&lt;!-- Initiate Groups --&gt;\r\n&lt;?php\r\nif(!isset($groups))\r\n$groups = $obj-&gt;groups();\r\nif($groups)\r\n{\r\nforeach($groups as $group)\r\n{\r\nextract($group);\r\necho \"&lt;div id='\".$group_id.\"' class='group'&gt;\\n\";\r\necho ucwords($group_name);\r\necho \"&lt;div id='added\".$group_id.\"' class='add' style='display:none;' &gt;&lt;img src='images/green.jpg'&gt;&lt;/div&gt;\";\r\necho \"&lt;div id='removed\".$group_id.\"' class='remove' style='display:none;' &gt;&lt;img src='images/red.jpg'&gt;&lt;/div&gt;\";\r\necho \"&lt;ul&gt;\\n\";\r\necho $obj-&gt;updateGroups($group_id);\r\necho \"&lt;/ul&gt;&lt;/div&gt;\";\r\n}\r\n}\r\n?&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>multipleDiv.inc.php</p>\r\n<p>Download this and modify database connection credentials.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php\r\n// Database declaration's\r\ndefine(\"SERVER\", \"localhost\");\r\ndefine(\"USER\", \"username\");\r\ndefine(\"PASSWORD\", \"password\");\r\ndefine(\"DB\", \"database\");\r\n\r\nclass Multiplediv\r\n{\r\n........................\r\n........................\r\n.........................\r\n} \r\n?&gt;</code></pre>\r\n<p>&nbsp;</p>","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/8172f3cc-c5b4-4e45-943c-9d1fdf462873_Draganddrop.jpg","subContents":[],"category":{"name":"coding","slug":"coding"},"slug":"implementing-google-plus-style-drag-and-drop-adding-friend-in-groups","tags":[{"name":"php","slug":"php"},{"name":"google-plus","slug":"google-plus"},{"name":"jquery","slug":"jquery"}],"recommendations":[{"id":720,"title":"Loading Javascript Files using Jquery.","imageUrl":"a05a3ed4-4acc-4047-8b76-bf59dbca7b0b_languagee.jpg","dateCreated":"2019-09-20T07:40:29.026Z","dateModified":"2019-09-20T07:40:56.987Z","contributedBy":"AskGif","content":"In this post, I want to explain loading javascript files with jquery. Here demo regional language textbox contains many javascript files, so just loading files with jquery when the file required. It's useful to faster your page loading time.\r\nSample Script\r\n<pre class=\"language-markup\"","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/a05a3ed4-4acc-4047-8b76-bf59dbca7b0b_languagee.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"javascript","slug":"javascript"},{"name":"jquery","slug":"jquery"}],"slug":"loading-javascript-files-using-jquery","total":0},{"id":525,"title":"Implementing Twitter like Login using Jquery and CSS.","imageUrl":"dc6709fd-f0f0-4990-b51b-907316f9ebd4_twitterlogin.jpg","dateCreated":"2019-08-30T11:26:08.96Z","dateModified":"2019-09-01T04:55:39.107Z","contributedBy":"AskGif","content":"In this post, I want to explain \"Twitter-like login hide and show the effect with jquery and CSS \". Very simple just five lines of code using jquery hide() and show() events and little CSS code, use it and enrich your web projects.\r\n&nbsp;\r\nJavascript Code\r\n<pre class=\"language-","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/dc6709fd-f0f0-4990-b51b-907316f9ebd4_twitterlogin.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"ट्विटर","slug":"twitter"},{"name":"css3","slug":"css3"},{"name":"jquery","slug":"jquery"}],"slug":"implementing-twitter-like-login-using-jquery-and-css","total":0},{"id":441,"title":"Implementing Flickr Style Live Title Edit Using Jquery and Ajax","imageUrl":"e54b9132-0922-4474-8092-61a5b3813615_flickr.jpg","dateCreated":"2019-08-21T10:43:50.657Z","dateModified":"2019-08-21T10:44:03.434Z","contributedBy":"AskGif","content":"This year's my last post is Flickr like image title edit using jquery, ajax and PHP. I had presented a tutorial in an easy way to interacting DOM object with jquery.&nbsp;\r\n&nbsp;\r\nSample Database Table Code\r\nimage table contains three columns id, title, and images.\r\n<pre","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/e54b9132-0922-4474-8092-61a5b3813615_flickr.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"jquery","slug":"jquery"},{"name":"ajax","slug":"ajax"},{"name":"php","slug":"php"}],"slug":"implementing-flickr-style-live-title-edit-using-jquery-and-ajax","total":0},{"id":142,"title":"How to get WYSIHTML5 textarea content cleared?","imageUrl":"1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","dateCreated":"2018-10-18T05:08:41.249Z","dateModified":"2018-10-18T05:08:49.621Z","contributedBy":"AskGif","content":"I have got a text area having id =\"myTextArea\", I'm able to fetch the content of text area but I'm not able to clear the content once the user successfully submits the data. I'm using a wysihtml5 plugin as my text editor. my code is as follows.\r\n<pre class=\"language-markup\"><code>&lt;textarea","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"प्रशन","slug":"questions"},{"name":"wysihtml5","slug":"wysihtml5"},{"name":"jquery","slug":"jquery"}],"slug":"how-to-get-wysihtml5-textarea-content-cleared","total":0}]}