{"id":486,"title":"Implementing File Upload Progress Bar Using Jquery and PHP.","imageUrl":"f5f097a4-c35b-4f59-9f1b-6fe4701de030_fileupload.jpg","dateCreated":"2019-08-26T10:35:49.092Z","dateModified":"2019-08-30T11:39:36.406Z","contributedBy":"AskGif","content":"<p>We received many tutorial requests from askgif readers that asked how to create file upload progress bar with PHP and Jquery. In this post have few lines of code using PHP APC library, it is very simple getting the server file upload process every few second and increasing the bar color using jquery CSS property. Just take a look at this demo.</p>\r\n<p>&nbsp;</p>\r\n<p>To run this script you have to install PHP apc library extension or for PHP 5.4 not required, just follow the steps to enable the extension. For web page design we implemented with bootstrap CSS library for any information check my previous post Bootstrap Tutorial</p>\r\n<p>&nbsp;</p>\r\n<p>Windows APC Installation</p>\r\n<p>Follow this link Click Here</p>\r\n<p>In php.ini include apc.rfc1867 = on&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>Linuk APC Installation</p>\r\n<p>Follow this Link Click http://2bits.com/articles/installing-php-apc-gnulinux-centos-5.html</p>\r\n<p>In php.ini include apc.rfc1867 = on&nbsp;</p>\r\n<p>php.ini located in /etc/php.ini</p>\r\n<p>&nbsp;</p>\r\n<p>get_progress.php</p>\r\n<p>Contains PHP code it identifies file upload status from server process.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php\r\nsession_start();\r\nerror_reporting(0);\r\n/*\r\n// For PHP 5.4 users\r\n$progress_key = ini_get(\"session.upload_progress.prefix\").\"uploadImage\"; // uploadImage is a Form name\r\n$current = $_SESSION[$progress_key][\"bytes_processed\"];\r\n$total = $_SESSION[$progress_key][\"content_length\"];\r\necho $current &lt; $total ? ceil($current / $total * 100) : 100;\r\n*/\r\n// For PHP 5.2+ php_apc.dll or php_apc.so holder\r\nif(isset($_GET['progress_key']) and !empty($_GET['progress_key'])){ \r\n $status = apc_fetch('upload_'.$_GET['progress_key']);  \r\n    echo $status['current']/$status['total']*100;\r\n exit;\r\n}\r\n?&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>index.php</p>\r\n<p>General form file upload with PHP. You have to include validation rules, please check my previous post for help.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>&lt;?php\r\n$uiq = uniqid();\r\n$image_folder = \"uploads/\";\r\n$uploaded = false;\r\n\r\nif(isset($_POST['upload_image'])){ \r\nif($_FILES['userImage']['error'] == 0 ){\r\n$up = move_uploaded_file($_FILES['userImage']['tmp_name'], $image_folder.$_FILES['userImage']['name']);\r\nif($up){\r\n$uploaded = true; \r\n}\r\n}\r\n}\r\n?&gt;\r\n&lt;form name=\"uploadImage\" id=\"uploadImage\" enctype=\"multipart/form-data\" action=\"index.php?progress=&lt;?php echo($uiq)?&gt;\" method=\"post\" class=\"well\"&gt;\r\n&lt;label&gt;Upload File&lt;/label&gt;\r\n&lt;input type=\"file\" name=\"userImage\" id=\"userImage\" /&gt; \r\n&lt;span class=\"badge badge-info\" style=\"display:none;\"&gt;0%&lt;/span&gt; \r\n&lt;input type=\"submit\" class=\"btn btn-success\" name=\"upload_image\" id=\"upload_image\" value=\"UPLOAD FILE\" /&gt; \r\n&lt;div class=\"progress\" style=\"display:none;\"&gt;&lt;div class=\"bar\" style=\"width:0%;\"&gt;&lt;/div&gt;&lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>JavaScript File</p>\r\n<p>Contains simple javascript implemented with Jquery properties getting server file process every few seconds.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"application/javascript\"&gt;\r\n$(document).ready(function(){\r\nvar randIDS = '&lt;?php echo $uiq?&gt;'; \r\n// Add Hidden Field\r\nvar hidden = $(\"&lt;input&gt;\");\r\nhidden.attr({\r\nname:\"APC_UPLOAD_PROGRESS\",\r\nid:\"progress_key\",\r\ntype:\"hidden\",\r\nvalue:randIDS\r\n});\r\n$(\"#uploadImage\").prepend(hidden); \r\n$(\"#uploadImage\").submit(function(e){\r\n\r\nvar p = $(this);\r\np.attr('target','tmpForm');\r\n \r\n// creating iframe\r\nif($(\"#tmpForm\").length == 0){\r\nvar frame = $(\"&lt;iframe&gt;\");\r\nframe.attr({\r\nname:'tmpForm',\r\nid:'tmpForm',\r\naction:'about:blank',\r\nborder:0\r\n}).css('display','none');\r\np.after(frame);\r\n} \r\n// Start file upload  \r\n$.get(\"get_progress.php\", {progress_key:randIDS, rand:Math.random()},\r\nfunction(data){ \r\nvar uploaded = parseInt(data);\r\nif(uploaded == 100){\r\n$(\".progress, .badge\").hide();\r\nclearInterval(loadLoader);\r\n}\r\nelse if(uploaded &lt; 100)\r\n{\r\n$(\".progress, .badge\").show();\r\n$(\".badge\").text(uploaded+\"%\");\r\nvar cWidth = $(\".bar\").css('width', uploaded+\"%\"); \r\n}\r\nif(uploaded &lt; 100)\r\nvar loader = setInterval(loadLoader,2000);\r\n});\r\n \r\nvar loadLoader = function(){\r\n$.get(\"get_progress.php\", {progress_key:randIDS, rand:Math.random()}, function(data)\r\n{\r\nvar uploaded = parseInt(data);\r\nif(uploaded == 100){\r\n$(\".progress, .badge\").hide();\r\nparent.location.href=\"index.php?success\";\r\n}\r\nelse if(uploaded &lt; 100)\r\n{\r\n$(\".progress, .badge\").show();\r\n$(\".badge\").text(uploaded+\"%\");\r\nvar cWidth = $(\".bar\").css('width', uploaded+\"%\"); \r\n}\r\n});\r\n}\r\n});});\r\n&lt;/script&gt;</code></pre>","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/f5f097a4-c35b-4f59-9f1b-6fe4701de030_fileupload.jpg","subContents":[],"category":{"name":"coding","slug":"coding"},"slug":"implementing-file-upload-progress-bar-using-jquery-and-php","tags":[{"name":"php","slug":"php"},{"name":"jquery","slug":"jquery"}],"recommendations":[{"id":450,"title":"Implementing Google Plus Like Style Animations Using Jquery and CSS3.","imageUrl":"c3cf077c-7413-45e7-9d48-50dad4076941_speciaAnimationjquery.jpg","dateCreated":"2019-08-22T09:17:23.29Z","dateModified":"2019-08-22T09:17:38.535Z","contributedBy":"AskGif","content":"Google plus given an awesome kick to user experience, especially circles UI animations. I feel it&rsquo;s a great and new definition to have user experience design. I have tried the circle rotation animation effect with Jquery and CSS3. Just few lines of code applying CSS styles using jQuery meth","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/c3cf077c-7413-45e7-9d48-50dad4076941_speciaAnimationjquery.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"css3","slug":"css3"},{"name":"jquery","slug":"jquery"},{"name":"html5","slug":"html5"}],"slug":"implementing-google-plus-like-style-animations-using-jquery-and-css3","total":0},{"id":422,"title":"Adding Facebook Like Profile Edit using Jquery","imageUrl":"d498d535-cde4-4f36-8f9e-2f4f51bbf4a4_facebookprofile.jpg","dateCreated":"2019-08-16T09:51:32.537Z","dateModified":"2019-08-16T09:52:08.908Z","contributedBy":"AskGif","content":"This post is very special Facebook-like profile edit with jquery, ajax and PHP. Why special before I was thinking this is a little difficult but I had developed in just 5 minutes using jquery and PHP. Use this and enrich your web applications.\r\n&nbsp;\r\nDatabase Design\r\nuser t","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/d498d535-cde4-4f36-8f9e-2f4f51bbf4a4_facebookprofile.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"jquery","slug":"jquery"},{"name":"php","slug":"php"}],"slug":"adding-facebook-like-profile-edit-using-jquery","total":0},{"id":413,"title":"Implementing Login or Signup with Jquery and PHP","imageUrl":"eb27afd9-2118-4ec4-b6f8-45227c00c42c_login-signup-images.jpg","dateCreated":"2019-06-27T02:25:49.027Z","dateModified":"2019-06-27T02:26:03.226Z","contributedBy":"AskGif","content":"Some users don't like to fill the registration form. So that I had implemented login and sign up fields in the same block just controlling with jquery and PHP. It's is a very simple javascript and basic PHP code.\r\n&nbsp;\r\nJavascript code\r\n$('#signup').click(function(){} - sig","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/eb27afd9-2118-4ec4-b6f8-45227c00c42c_login-signup-images.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"php","slug":"php"},{"name":"jquery","slug":"jquery"},{"name":"javascript","slug":"javascript"}],"slug":"implementing-login-or-signup-with-jquery-and-php","total":0},{"id":142,"title":"How to get WYSIHTML5 textarea content cleared?","imageUrl":"1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","dateCreated":"2018-10-18T05:08:41.249Z","dateModified":"2018-10-18T05:08:49.621Z","contributedBy":"AskGif","content":"I have got a text area having id =\"myTextArea\", I'm able to fetch the content of text area but I'm not able to clear the content once the user successfully submits the data. I'm using a wysihtml5 plugin as my text editor. my code is as follows.\r\n<pre class=\"language-markup\"><code>&lt;textarea","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"questions","slug":"questions"},{"name":"wysihtml5","slug":"wysihtml5"},{"name":"jquery","slug":"jquery"}],"slug":"how-to-get-wysihtml5-textarea-content-cleared","total":0}]}