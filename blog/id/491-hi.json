{"id":491,"title":"Implementing MySQL Event Scheduler","imageUrl":"401571c3-e357-4873-ab7e-13f09051abf5_mysql.jpg","dateCreated":"2019-08-27T11:37:41.233Z","dateModified":"2019-08-27T11:37:59.726Z","contributedBy":"AskGif","content":"<p>If you are running large public web applications like shopping and emails portals, you have handled lots of unwanted data rows, for example, spam emails and unused shopping cart data. Sure it will create problem in database overload. So that I want to explain a simple tip called how to use MySQL event scheduler for deleting unwanted data rows from the database.</p>\r\n<p>&nbsp;</p>\r\n<p>Database</p>\r\n<p>Sample database cart table contains four columns cart_id, user_id, product_id, and created_at.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>CREATE TABLE cart \r\n(\r\ncart_id INT  AUTO_INCREMENT,\r\nuser_id INT,\r\nproduct_id INT,\r\ncreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\nPRIMARY KEY (cart_id)\r\n) ;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Enable MySQL Event Scheduler</p>\r\n<p>Start MySQL event scheduler by executing the following query in PhpMyAdmin or MySQL command prompt.</p>\r\n<pre class=\"language-javascript\"><code>SET GLOBAL event_scheduler = ON;\r\nOr\r\nSET GLOBAL event_scheduler = 1;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Create an Event</p>\r\n<p>Here the following event will run every day and clear/delete 10 days old data from cart table based on a timestamp</p>\r\n<pre class=\"language-javascript\"><code>CREATE EVENT newEvent\r\nON SCHEDULE EVERY 1 DAY\r\nDO\r\nDELETE FROM cart WHERE created_at &lt;= DATE_SUB(NOW(), INTERVAL 10 DAY) ;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Alter Event</p>\r\n<p>If you want to modify the event run time simple you can execute a query in below syntax.</p>\r\n<pre class=\"language-javascript\"><code>ALTER newEvent \r\nON SCHEDULE EVERY 5 HOUR \r\nSTARTS TIMESTAMP + 3 HOUR </code></pre>\r\n<p>&nbsp;</p>\r\n<p>View Event</p>\r\n<p>Show all the running events.</p>\r\n<pre class=\"language-javascript\"><code>SHOW EVENTS;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Delete Event</p>\r\n<p>You can drop the event for executing the below query.&nbsp;</p>\r\n<pre class=\"language-javascript\"><code>DROP EVENT newEvent;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>Check event schedule status under the process tab in PhpMyAdmin root (it will show only when a scheduled event is running).</p>","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/401571c3-e357-4873-ab7e-13f09051abf5_mysql.jpg","subContents":[],"category":{"name":"coding","slug":"coding"},"slug":"implementing-mysql-event-scheduler","tags":[{"name":"mysql","slug":"mysql"}],"recommendations":[{"id":1626,"title":"Reformat Department Table - Sql - Easy - LeetCode","imageUrl":"icon_59cdadef-bfee-4b37-bafa-ad7569c32e3f.jpg","dateCreated":"2020-10-18T04:10:25.839Z","dateModified":"2020-10-18T04:10:34.638Z","contributedBy":"sumitc91","content":"Table: Department\n+---------------+---------+<br />| Column Name &nbsp; | Type &nbsp; &nbsp;|<br />+---------------+---------+<br />| id &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| int &nbsp; &nbsp; |<br />| revenue &nbsp; &nbsp; &nbsp; | int &nbsp; &nbsp; |<br />| month &nbsp; &nbsp; &nbsp","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/59cdadef-bfee-4b37-bafa-ad7569c32e3f.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"algorithm","slug":"algorithm"},{"name":"डेटा-संरचना","slug":"data-structure"},{"name":"आसान","slug":"easy"},{"name":"leetcode","slug":"leetcode"},{"name":"mysql","slug":"mysql"},{"name":"sql","slug":"sql"}],"slug":"reformat-department-table-sql-easy-leetcode","total":0},{"id":1613,"title":"Rising Temperature - SQL - Easy - LeetCode","imageUrl":"icon_ac130fd7-abdd-4db8-9e17-cccc1048a681.jpg","dateCreated":"2020-10-16T11:40:45.374Z","dateModified":"2020-10-16T11:40:52.328Z","contributedBy":"sumitc91","content":"Table: Weather\n+---------------+---------+<br />| Column Name &nbsp; | Type &nbsp; &nbsp;|<br />+---------------+---------+<br />| id &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| int &nbsp; &nbsp; |<br />| recordDate &nbsp; &nbsp;| date &nbsp; &nbsp;|<br />| temperature &nbsp; | int &nbsp; &","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/ac130fd7-abdd-4db8-9e17-cccc1048a681.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"algorithm","slug":"algorithm"},{"name":"डेटा-संरचना","slug":"data-structure"},{"name":"आसान","slug":"easy"},{"name":"leetcode","slug":"leetcode"},{"name":"mysql","slug":"mysql"},{"name":"sql","slug":"sql"}],"slug":"rising-temperature-sql-easy-leetcode","total":0},{"id":1612,"title":"Delete Duplicate Emails - SQL - Easy - LeetCode","imageUrl":"icon_a8c368b1-ddbd-45ca-96b4-7558b7166a74.jpg","dateCreated":"2020-10-16T11:31:27.16Z","dateModified":"2020-10-16T11:31:37.404Z","contributedBy":"sumitc91","content":"Write a SQL query to delete all duplicate email entries in a table named Person, keeping only unique emails based on its smallest Id.\n+----+------------------+<br />| Id | Email &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />+----+------------------+<br />| 1 &nbsp;| john@example.com |<br","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/a8c368b1-ddbd-45ca-96b4-7558b7166a74.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"algorithm","slug":"algorithm"},{"name":"डेटा-संरचना","slug":"data-structure"},{"name":"आसान","slug":"easy"},{"name":"leetcode","slug":"leetcode"},{"name":"mysql","slug":"mysql"},{"name":"sql","slug":"sql"}],"slug":"delete-duplicate-emails-sql-easy-leetcode","total":0},{"id":431,"title":"Implementing Pagination Using Jquery, PHP, Ajax, and MySQL.","imageUrl":"18d5d76f-0e22-4bf0-b168-766fd7756d08_pagination_ajax.jpg","dateCreated":"2019-08-20T09:44:41.953Z","dateModified":"2019-08-20T09:44:55.672Z","contributedBy":"AskGif","content":"A few days back I had posted an article Pagination with jQuery, MySQL, and PHP without refreshing page. I am modifying the old script and adding extra features like First, Previous, Next and Last buttons. Use it and enrich your web applications.&nbsp;\r\n&nbsp;\r\nDatabase\r\nMySQL","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/18d5d76f-0e22-4bf0-b168-766fd7756d08_pagination_ajax.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"jquery","slug":"jquery"},{"name":"php","slug":"php"},{"name":"mysql","slug":"mysql"},{"name":"ajax","slug":"ajax"}],"slug":"implementing-pagination-using-jquery-php-ajax-and-mysql","total":0}]}