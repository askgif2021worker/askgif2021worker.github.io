{"id":723,"title":"Implementing Favorite Rating using jQuery and Ajax.","imageUrl":"da0e7757-276f-493a-8fb5-dac68bb09fbb_jquery_ajax.jpg","dateCreated":"2019-09-20T11:08:43.269Z","dateModified":"2019-09-20T11:08:56.383Z","contributedBy":"AskGif","content":"<p>I received a mail from my reader that asked to me how to implement Show the love rating system like amypink.com. So I had designed Favorite Rating with jQuery and Ajax. It's simple just changing little code on my old post Voting system with jQuery, Ajax, and PHP.</p>\r\n<p>Database Design</p>\r\n<p>images table images details&nbsp;</p>\r\n<pre class=\"language-markup\"><code>CREATE TABLE images(\r\nimg_id INT PRIMARY KEY AUTO_INCREMENT,\r\nimg_name VARCHAR(60),\r\nlove INT,</code></pre>\r\n<p>image_ip table storing ip-address.</p>\r\n<pre class=\"language-markup\"><code>CREATE TABLE image_IP(\r\nip_id INT PRIMARY KEY AUTO_INCREMENT,\r\nimg_id_fk INT,\r\nip_add VARCHAR(40),\r\nFOREIGN KEY(img_id_fk)\r\nREFERENCES images(img_id));</code></pre>\r\n<p>&nbsp;</p>\r\n<p>love.php</p>\r\n<p>Javascript Code</p>\r\n<pre class=\"language-javascript\"><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/\r\nlibs/jquery/1.3.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\n//Image Hover Pink Heart to White Heart\r\n$(document).ready(function()\r\n{\r\n$(\"span.on_img\").mouseover(function ()\r\n{\r\n$(this).addClass(\"over_img\");\r\n});\r\n\r\n$(\"span.on_img\").mouseout(function ()\r\n{\r\n$(this).removeClass(\"over_img\");\r\n});\r\n});\r\n\r\n//Show The Love\r\n$(function() {\r\n$(\".love\").click(function() \r\n{\r\nvar id = $(this).attr(\"id\");\r\nvar dataString = 'id='+ id ;\r\nvar parent = $(this);\r\n$(this).fadeOut(300);\r\n$.ajax({\r\ntype: \"POST\",\r\nurl: \"ajax_love.php\",\r\ndata: dataString,\r\ncache: false,\r\nsuccess: function(html)\r\n{\r\nparent.html(html);\r\nparent.fadeIn(300);\r\n} \r\n});\r\nreturn false;\r\n});\r\n});\r\n\r\n&lt;/script&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>HTML and PHP code. To display records form the images table.</p>\r\n<pre class=\"language-markup\"><code>&lt;?php\r\ninclude('config.php');\r\n$sql=mysql_query(\"select * from images\");\r\nwhile($row=mysql_fetch_array($sql))\r\n{\r\n$img_id=$row['img_id'];\r\n$img_url=$row['img_url'];\r\n$love=$row['love'];\r\n?&gt;\r\n&lt;div&gt;\r\n&lt;div class=\"box\" align=\"left\"&gt;\r\n&lt;a href=\"#\" class=\"love\" id=\"&lt;?php echo $img_id; ?&gt;\"&gt;\r\n&lt;span class=\"on_img\" align=\"left\"&gt; &lt;?php echo $love; ?&gt; &lt;/span&gt; \r\n&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;img src='&lt;?php echo $img_url; ?&gt;' /&gt;\r\n&lt;/div&gt;\r\n&lt;?php\r\n}\r\n?&gt;\r\n</code></pre>\r\n<p>&nbsp;</p>\r\n<p>ajax_love.php</p>\r\n<p>Contains PHP code.</p>\r\n<pre class=\"language-markup\"><code>&lt;?php\r\ninclude(\"config.php\");\r\n$ip=$_SERVER['REMOTE_ADDR'];//client ip address\r\nif($_POST['id'])\r\n{\r\n$id=$_POST['id'];\r\n//IP-address verification  \r\n$ip_sql=mysql_query(\"select ip_add from image_IP where img_id_fk='$id' and ip_add='$ip'\");\r\n$count=mysql_num_rows($ip_sql);\r\nif($count==0)\r\n{\r\n// Updateing Love Value\r\n$sql = \"update images set love=love+1 where img_id='$id'\";\r\nmysql_query( $sql);\r\n// Inserting Client IP-address \r\n$sql_in = \"insert into image_IP (ip_add,img_id_fk) values ('$ip','$id')\";\r\nmysql_query( $sql_in);\r\n\r\n$result=mysql_query(\"select love from images where img_id='$id'\");\r\n$row=mysql_fetch_array($result);\r\n$love=$row['love'];\r\n\r\n?&gt;\r\n //Display Updated Love Value\r\n&lt;span class=\"on_img\" align=\"left\"&gt;&lt;?php echo $love; ?&gt;&lt;/span&gt;\r\n&lt;?php\r\n}\r\nelse\r\n{\r\n// Already Loved\r\necho 'NO !';\r\n}\r\n}\r\n?&gt;</code></pre>\r\n<p>&nbsp;</p>\r\n<p>CSS Code</p>\r\n<pre class=\"language-css\"><code>.box\r\n{\r\nbackground-color:#303030; padding:6px;\r\nheight:17px;\r\n}\r\n.on_img\r\n{\r\nbackground-image:url(on.gif);\r\nbackground-repeat:no-repeat;\r\npadding-left:35px;\r\ncursor:pointer;\r\nwidth:60px;\r\n} \r\n.over_img\r\n{\r\nbackground-image:url(over.gif);\r\nbackground-repeat:no-repeat;\r\npadding-left:35px;\r\ncursor:pointer;\r\nwidth:60px;\r\n}</code></pre>","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/da0e7757-276f-493a-8fb5-dac68bb09fbb_jquery_ajax.jpg","subContents":[],"category":{"name":"coding","slug":"coding"},"slug":"implementing-favorite-rating-using-jquery-and-ajax","tags":[{"name":"ajax","slug":"ajax"},{"name":"jquery","slug":"jquery"}],"recommendations":[{"id":723,"title":"Implementing Favorite Rating using jQuery and Ajax.","imageUrl":"da0e7757-276f-493a-8fb5-dac68bb09fbb_jquery_ajax.jpg","dateCreated":"2019-09-20T11:08:43.269Z","dateModified":"2019-09-20T11:08:56.383Z","contributedBy":"AskGif","content":"I received a mail from my reader that asked to me how to implement Show the love rating system like amypink.com. So I had designed Favorite Rating with jQuery and Ajax. It's simple just changing little code on my old post Voting system with jQuery, Ajax, and PHP.\r\nDatabase Design\r\ni","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/da0e7757-276f-493a-8fb5-dac68bb09fbb_jquery_ajax.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"ajax","slug":"ajax"},{"name":"jquery","slug":"jquery"}],"slug":"implementing-favorite-rating-using-jquery-and-ajax","total":0},{"id":449,"title":"Implementing Live Table Edit, Delete with Pagination using Jquery","imageUrl":"164107fd-6c41-4cdc-92a9-86387d125ff9_tableeditdelete.jpg","dateCreated":"2019-08-22T09:06:14.724Z","dateModified":"2019-08-22T09:06:28.532Z","contributedBy":"AskGif","content":"This post is a collaboration of my previous popular posts such as live table data edit, delete records with pagination using Jquery, Ajax, and PHP. I had implemented this using Jquery .live() function and DOM event handler .stopImmediatePropagation(). This script helps you to instantly modify or ","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/164107fd-6c41-4cdc-92a9-86387d125ff9_tableeditdelete.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"jquery","slug":"jquery"}],"slug":"implementing-live-table-edit-delete-with-pagination-using-jquery","total":0},{"id":426,"title":"Implementing Collapsed Image Using Jquery and CSS.","imageUrl":"a857df5a-ca21-4993-ad47-ba40aa47218f_imagecollaps.jpg","dateCreated":"2019-08-19T10:35:32.501Z","dateModified":"2019-08-19T10:35:49.414Z","contributedBy":"AskGif","content":"How to do a collapsed image with Jquery and CSS. Orkut.com implemented this concept while updating image scrap, the scrap shows image in collapsed style to reduce the webpage height. This is a very simple script using mouseover, mouseout and CSS Jquery functions.\r\n&nbsp;\r\nJavascript","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/a857df5a-ca21-4993-ad47-ba40aa47218f_imagecollaps.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"jquery","slug":"jquery"}],"slug":"implementing-collapsed-image-using-jquery-and-css","total":0},{"id":142,"title":"How to get WYSIHTML5 textarea content cleared?","imageUrl":"1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","dateCreated":"2018-10-18T05:08:41.249Z","dateModified":"2018-10-18T05:08:49.621Z","contributedBy":"AskGif","content":"I have got a text area having id =\"myTextArea\", I'm able to fetch the content of text area but I'm not able to clear the content once the user successfully submits the data. I'm using a wysihtml5 plugin as my text editor. my code is as follows.\r\n<pre class=\"language-markup\"><code>&lt;textarea","ampImage":"https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/1e97ba70-6983-454a-aef1-8dc22c126c32_wysiwyg.jpg","category":{"name":"coding","slug":"coding"},"tags":[{"name":"questions","slug":"questions"},{"name":"wysihtml5","slug":"wysihtml5"},{"name":"jquery","slug":"jquery"}],"slug":"how-to-get-wysihtml5-textarea-content-cleared","total":0}]}